<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Run Like Hell</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <!-- Include your site.css file for styling -->
    <link rel="stylesheet" type="text/css" href="css/site.css">
    
    <!-- Favicon link -->
    <link rel="icon" href="Cowboy1.ico" type="image/x-icon">
    <link rel="icon" href="Cowboy1.ico" type="image/vnd.microsoft.icon">
    <link rel="apple-touch-icon" href="Cowboy1.ico">

</head>
<body>
    <canvas id="gameCanvas"></canvas>

    <div id="loadingBarContainer">
        <div id="loadingText">Loading...</div>
        <img id="loadingBar" src="wwwroot/assets/CowboyHead.gif" alt="Loading Bar">
    </div>

    <div id="videoPlayerContainer"></div>
    
    <video id="tranVideo" src="wwwroot/assets/TranVid.mov" playsinline autoplay></video>
    <script>
    // Define a flag to track whether the pauseVideo function has been executed
    let pauseVideoExecuted = false;

    function pauseVideo() {
        if (!pauseVideoExecuted) {
            const tranVideo = document.getElementById('tranVideo');
            tranVideo.pause();
            console.log('tranVideo paused successfully');
            pauseVideoExecuted = true;
        }
    }

    // Attach the event listener using JavaScript
    document.getElementById('tranVideo').addEventListener('play', pauseVideo);
    </script>

    <video id="video1" src="wwwroot/videos/SW1.mp4" playsinline autoplay></video>
    <script>
        let pauseVideoExecuted_video1 = false;

        function pauseVideo_video1() {
            if (!pauseVideoExecuted_video1) {
                const video1 = document.getElementById('video1');
                video1.pause();
                console.log('video1 paused successfully');
                pauseVideoExecuted_video1 = true;
                
            }
        }

        document.getElementById('video1').addEventListener('play', pauseVideo_video1);
    </script>

    <video id="video2" src="wwwroot/videos/SW2.mp4" playsinline autoplay></video>
    <script>
        let pauseVideoExecuted_video2 = false;

        function pauseVideo_video2() {
            if (!pauseVideoExecuted_video2) {
                const video2 = document.getElementById('video2');
                video2.pause();
                console.log('video2 paused successfully');
                pauseVideoExecuted_video2 = true;
                
            }
        }

        document.getElementById('video2').addEventListener('play', pauseVideo_video2);
    </script>

    <video id="video3" src="wwwroot/videos/SW3.mp4" playsinline autoplay></video>
    <script>
        let pauseVideoExecuted_video3 = false;

        function pauseVideo_video3() {
            if (!pauseVideoExecuted_video3) {
                const video3 = document.getElementById('video3');
                video3.pause();
                console.log('video3 paused successfully');
                pauseVideoExecuted_video3 = true;
                
            }
        }

        document.getElementById('video3').addEventListener('play', pauseVideo_video3);
    </script>

    <video id="video4" src="wwwroot/videos/SW4.mp4" playsinline autoplay></video>
    <script>
        let pauseVideoExecuted_video4 = false;

        function pauseVideo_video4() {
            if (!pauseVideoExecuted_video4) {
                const video4 = document.getElementById('video4');
                video4.pause();
                console.log('video4 paused successfully');
                pauseVideoExecuted_video4 = true;
                
            }
        }

        document.getElementById('video4').addEventListener('play', pauseVideo_video4);
    </script>

    <video id="video5" src="wwwroot/videos/SW5.mp4" playsinline autoplay></video>
    <script>
        let pauseVideoExecuted_video5 = false;

        function pauseVideo_video5() {
            if (!pauseVideoExecuted_video5) {
                const video5 = document.getElementById('video5');
                video5.pause();
                console.log('video5 paused successfully');
                pauseVideoExecuted_video5 = true;
                
            }
        }

        document.getElementById('video5').addEventListener('play', pauseVideo_video5);
    </script>

    <video id="video6" src="wwwroot/videos/SW6.mp4" playsinline autoplay></video>
    <script>
        let pauseVideoExecuted_video6 = false;

        function pauseVideo_video6() {
            if (!pauseVideoExecuted_video6) {
                const video6 = document.getElementById('video6');
                video6.pause();
                console.log('video6 paused successfully');
                pauseVideoExecuted_video6 = true;
                
            }
        }

        document.getElementById('video6').addEventListener('play', pauseVideo_video6);
    </script>

    <audio id="tranAudio" src="wwwroot/assets/tranAudio.m4a"></audio>
    
    <!-- Include CreateJS and PreloadJS library scripts -->
    <script src="https://code.createjs.com/1.0.0/createjs.min.js"></script>
    <script src="https://code.createjs.com/1.0.0/preloadjs.min.js"></script>
    <script src="https://code.createjs.com/1.0.0/soundjs.min.js"></script>

    <!-- Include your script.js file for game logic -->
    <script src="js/script.js"></script>

    <script>
        // Initialize PreloadJS
        createjs.MD2Laser = createjs.MD2Laser || {};
        createjs.MD2Laser.preload = new createjs.LoadQueue();
        createjs.MD2Laser.preload.installPlugin(createjs.Sound);

        // Define assets to preload
        const assetsToLoad = [
            { id: "loadingBar", src: "wwwroot/assets/CowboyHead.gif" },
            { id: "tranVideo", src: "wwwroot/assets/TranVid.mov" },
            { id: "tranAudio", src: "wwwroot/assets/tranAudio.m4a" },
            { id: "video1", src: "wwwroot/videos/SW1.mp4" },
            { id: "video2", src: "wwwroot/videos/SW2.mp4" },
            { id: "video3", src: "wwwroot/videos/SW3.mp4" },
            { id: "video4", src: "wwwroot/videos/SW4.mp4" },
            { id: "video5", src: "wwwroot/videos/SW5.mp4" },
            { id: "video6", src: "wwwroot/videos/SW6.mp4" },
            // Add more assets as needed
        ];

        createjs.MD2Laser.preload.loadManifest(assetsToLoad);

        // Event listener to run your game code once assets are loaded
        createjs.MD2Laser.preload.on("complete", function () {
            // Your game code that relies on preloaded assets
            // This can be in your existing script.js file

            // Change loading text to "Click" when the game starts
            document.getElementById("loadingText").textContent = "Click";
        });
    </script>
</body>
</html>
